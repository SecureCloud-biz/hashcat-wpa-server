{% extends "base.html" %}

{% block content %}
<h2>Uploaded captures</h2>
<p>Hashcat WPA/WPA2 benchmark speed: <b>{{ benchmark.speed }}</b> H/s.
    Last update: {{ benchmark.date }}
    <button onclick="updateBenchmark()">Update</button>
</p>
<form action="" method="post">
    <table>
        <tr>
            <th>#</th>
            <th>Filename</th>
            <th>Date</th>
            <th>Progress</th>
            <th>Duration</th>
            <th>Wordlist</th>
            <th>Rule</th>
            <th>Status</th>
            <th>Found Key</th>
        </tr>
        {%- for task in tasks %}
        <tr>
            <td>{{ task.id }}</td>
            <td>{{ task.filename }}</td>
            <td>{{ task.uploaded_time.strftime('%Y-%m-%d %H:%M') }}</td>
            <td>{{ task.progress }}</td>
            <td>{{ task.duration }}</td>
            <td>{{ task.wordlist }}</td>
            <td>{{ task.rule }}</td>
            <td>{{ task.status }}</td>
            <td>{{ task.found_key }}</td>
        </tr>
        {%- endfor %}
    </table>
</form>
{% endblock %}


{% block scripts %}
<script src="http://code.jquery.com/jquery.js"></script>
<script>
    function updateBenchmark() {
       $.ajax({
            url : '/benchmark',
            type : 'GET'
       }).done(function(message) {
            alert(message)
       })
    }
</script>
{% endblock %}